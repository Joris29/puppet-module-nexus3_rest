def routingRuleStore = container.lookup(org.sonatype.nexus.repository.routing.RoutingRuleStore.class.name)
def rule = routingRuleStore.getByName('<%= resource[:name] %>')

rule.name = '<%= resource[:name] %>'
rule.description = '<%= resource[:description] %>'
rule.mode = '<%= resource[:mode] %>'
<%- unless resource[:matchers].empty? -%>
rule.matchers = new ArrayList(<%= resource[:matchers] %>)
<%- end -%>
routingRuleStore.update(rule)
